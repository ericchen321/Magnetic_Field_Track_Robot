0000              1   ;--------------------------------------------------------
0000              2   ; File Created by C51
0000              3   ; Version 1.0.0 #1069 (Apr 23 2015) (MSVC)
0000              4   ; This file was generated Wed Mar 22 20:10:20 2017
0000              5   ;--------------------------------------------------------
                  5   $name transmitterTest
                  6   $optc51 --model-small
0000              8            R_DSEG    segment data
0000              9            R_CSEG    segment code
0000             10            R_BSEG    segment bit
0000             11            R_XSEG    segment xdata
0000             12            R_PSEG    segment xdata
0000             13            R_ISEG    segment idata
0000             14            R_OSEG    segment data overlay
0000             15            BIT_BANK  segment data overlay
0000             16            R_HOME    segment code
0000             17            R_GSINIT  segment code
0000             18            R_IXSEG   segment xdata
0000             19            R_CONST   segment code
0000             20            R_XINIT   segment code
0000             21            R_DINIT   segment code
0000             22   
0000             23   ;--------------------------------------------------------
0000             24   ; Public variables in this module
0000             25   ;--------------------------------------------------------
0000             26            public _main
0000             27            public _ControlUnit
0000             28            public _Timer2_ISR
0000             29            public _waitms
0000             30            public _Timer3us
0000             31            public __c51_external_startup
0000             32            public _pwm_out0
0000             33            public _power
0000             34            public _pwm_count
0000             35   ;--------------------------------------------------------
0000             36   ; Special Function Registers
0000             37   ;--------------------------------------------------------
0000             38   _P0             DATA 0x80
0000             39   _SP             DATA 0x81
0000             40   _DPL            DATA 0x82
0000             41   _DPH            DATA 0x83
0000             42   _EMI0TC         DATA 0x84
0000             43   _EMI0CF         DATA 0x85
0000             44   _OSCLCN         DATA 0x86
0000             45   _PCON           DATA 0x87
0000             46   _TCON           DATA 0x88
0000             47   _TMOD           DATA 0x89
0000             48   _TL0            DATA 0x8a
0000             49   _TL1            DATA 0x8b
0000             50   _TH0            DATA 0x8c
0000             51   _TH1            DATA 0x8d
0000             52   _CKCON          DATA 0x8e
0000             53   _PSCTL          DATA 0x8f
0000             54   _P1             DATA 0x90
0000             55   _TMR3CN         DATA 0x91
0000             56   _TMR4CN         DATA 0x91
0000             57   _TMR3RLL        DATA 0x92
0000             58   _TMR4RLL        DATA 0x92
0000             59   _TMR3RLH        DATA 0x93
0000             60   _TMR4RLH        DATA 0x93
0000             61   _TMR3L          DATA 0x94
0000             62   _TMR4L          DATA 0x94
0000             63   _TMR3H          DATA 0x95
0000             64   _TMR4H          DATA 0x95
0000             65   _USB0ADR        DATA 0x96
0000             66   _USB0DAT        DATA 0x97
0000             67   _SCON           DATA 0x98
0000             68   _SCON0          DATA 0x98
0000             69   _SBUF           DATA 0x99
0000             70   _SBUF0          DATA 0x99
0000             71   _CPT1CN         DATA 0x9a
0000             72   _CPT0CN         DATA 0x9b
0000             73   _CPT1MD         DATA 0x9c
0000             74   _CPT0MD         DATA 0x9d
0000             75   _CPT1MX         DATA 0x9e
0000             76   _CPT0MX         DATA 0x9f
0000             77   _P2             DATA 0xa0
0000             78   _SPI0CFG        DATA 0xa1
0000             79   _SPI0CKR        DATA 0xa2
0000             80   _SPI0DAT        DATA 0xa3
0000             81   _P0MDOUT        DATA 0xa4
0000             82   _P1MDOUT        DATA 0xa5
0000             83   _P2MDOUT        DATA 0xa6
0000             84   _P3MDOUT        DATA 0xa7
0000             85   _IE             DATA 0xa8
0000             86   _CLKSEL         DATA 0xa9
0000             87   _EMI0CN         DATA 0xaa
0000             88   __XPAGE         DATA 0xaa
0000             89   _SBCON1         DATA 0xac
0000             90   _P4MDOUT        DATA 0xae
0000             91   _PFE0CN         DATA 0xaf
0000             92   _P3             DATA 0xb0
0000             93   _OSCXCN         DATA 0xb1
0000             94   _OSCICN         DATA 0xb2
0000             95   _OSCICL         DATA 0xb3
0000             96   _SBRLL1         DATA 0xb4
0000             97   _SBRLH1         DATA 0xb5
0000             98   _FLSCL          DATA 0xb6
0000             99   _FLKEY          DATA 0xb7
0000            100   _IP             DATA 0xb8
0000            101   _CLKMUL         DATA 0xb9
0000            102   _SMBTC          DATA 0xb9
0000            103   _AMX0N          DATA 0xba
0000            104   _AMX0P          DATA 0xbb
0000            105   _ADC0CF         DATA 0xbc
0000            106   _ADC0L          DATA 0xbd
0000            107   _ADC0H          DATA 0xbe
0000            108   _SFRPAGE        DATA 0xbf
0000            109   _SMB0CN         DATA 0xc0
0000            110   _SMB1CN         DATA 0xc0
0000            111   _SMB0CF         DATA 0xc1
0000            112   _SMB1CF         DATA 0xc1
0000            113   _SMB0DAT        DATA 0xc2
0000            114   _SMB1DAT        DATA 0xc2
0000            115   _ADC0GTL        DATA 0xc3
0000            116   _ADC0GTH        DATA 0xc4
0000            117   _ADC0LTL        DATA 0xc5
0000            118   _ADC0LTH        DATA 0xc6
0000            119   _P4             DATA 0xc7
0000            120   _TMR2CN         DATA 0xc8
0000            121   _TMR5CN         DATA 0xc8
0000            122   _REG01CN        DATA 0xc9
0000            123   _TMR2RLL        DATA 0xca
0000            124   _TMR5RLL        DATA 0xca
0000            125   _TMR2RLH        DATA 0xcb
0000            126   _TMR5RLH        DATA 0xcb
0000            127   _TMR2L          DATA 0xcc
0000            128   _TMR5L          DATA 0xcc
0000            129   _TMR2H          DATA 0xcd
0000            130   _TMR5H          DATA 0xcd
0000            131   _SMB0ADM        DATA 0xce
0000            132   _SMB1ADM        DATA 0xce
0000            133   _SMB0ADR        DATA 0xcf
0000            134   _SMB1ADR        DATA 0xcf
0000            135   _PSW            DATA 0xd0
0000            136   _REF0CN         DATA 0xd1
0000            137   _SCON1          DATA 0xd2
0000            138   _SBUF1          DATA 0xd3
0000            139   _P0SKIP         DATA 0xd4
0000            140   _P1SKIP         DATA 0xd5
0000            141   _P2SKIP         DATA 0xd6
0000            142   _USB0XCN        DATA 0xd7
0000            143   _PCA0CN         DATA 0xd8
0000            144   _PCA0MD         DATA 0xd9
0000            145   _PCA0CPM0       DATA 0xda
0000            146   _PCA0CPM1       DATA 0xdb
0000            147   _PCA0CPM2       DATA 0xdc
0000            148   _PCA0CPM3       DATA 0xdd
0000            149   _PCA0CPM4       DATA 0xde
0000            150   _P3SKIP         DATA 0xdf
0000            151   _ACC            DATA 0xe0
0000            152   _XBR0           DATA 0xe1
0000            153   _XBR1           DATA 0xe2
0000            154   _XBR2           DATA 0xe3
0000            155   _IT01CF         DATA 0xe4
0000            156   _CKCON1         DATA 0xe4
0000            157   _SMOD1          DATA 0xe5
0000            158   _EIE1           DATA 0xe6
0000            159   _EIE2           DATA 0xe7
0000            160   _ADC0CN         DATA 0xe8
0000            161   _PCA0CPL1       DATA 0xe9
0000            162   _PCA0CPH1       DATA 0xea
0000            163   _PCA0CPL2       DATA 0xeb
0000            164   _PCA0CPH2       DATA 0xec
0000            165   _PCA0CPL3       DATA 0xed
0000            166   _PCA0CPH3       DATA 0xee
0000            167   _RSTSRC         DATA 0xef
0000            168   _B              DATA 0xf0
0000            169   _P0MDIN         DATA 0xf1
0000            170   _P1MDIN         DATA 0xf2
0000            171   _P2MDIN         DATA 0xf3
0000            172   _P3MDIN         DATA 0xf4
0000            173   _P4MDIN         DATA 0xf5
0000            174   _EIP1           DATA 0xf6
0000            175   _EIP2           DATA 0xf7
0000            176   _SPI0CN         DATA 0xf8
0000            177   _PCA0L          DATA 0xf9
0000            178   _PCA0H          DATA 0xfa
0000            179   _PCA0CPL0       DATA 0xfb
0000            180   _PCA0CPH0       DATA 0xfc
0000            181   _PCA0CPL4       DATA 0xfd
0000            182   _PCA0CPH4       DATA 0xfe
0000            183   _VDM0CN         DATA 0xff
0000            184   _DPTR           DATA 0x8382
0000            185   _TMR2RL         DATA 0xcbca
0000            186   _TMR3RL         DATA 0x9392
0000            187   _TMR4RL         DATA 0x9392
0000            188   _TMR5RL         DATA 0xcbca
0000            189   _TMR2           DATA 0xcdcc
0000            190   _TMR3           DATA 0x9594
0000            191   _TMR4           DATA 0x9594
0000            192   _TMR5           DATA 0xcdcc
0000            193   _SBRL1          DATA 0xb5b4
0000            194   _ADC0           DATA 0xbebd
0000            195   _ADC0GT         DATA 0xc4c3
0000            196   _ADC0LT         DATA 0xc6c5
0000            197   _PCA0           DATA 0xfaf9
0000            198   _PCA0CP1        DATA 0xeae9
0000            199   _PCA0CP2        DATA 0xeceb
0000            200   _PCA0CP3        DATA 0xeeed
0000            201   _PCA0CP0        DATA 0xfcfb
0000            202   _PCA0CP4        DATA 0xfefd
0000            203   ;--------------------------------------------------------
0000            204   ; special function bits
0000            205   ;--------------------------------------------------------
0000            206   _P0_0           BIT 0x80
0000            207   _P0_1           BIT 0x81
0000            208   _P0_2           BIT 0x82
0000            209   _P0_3           BIT 0x83
0000            210   _P0_4           BIT 0x84
0000            211   _P0_5           BIT 0x85
0000            212   _P0_6           BIT 0x86
0000            213   _P0_7           BIT 0x87
0000            214   _TF1            BIT 0x8f
0000            215   _TR1            BIT 0x8e
0000            216   _TF0            BIT 0x8d
0000            217   _TR0            BIT 0x8c
0000            218   _IE1            BIT 0x8b
0000            219   _IT1            BIT 0x8a
0000            220   _IE0            BIT 0x89
0000            221   _IT0            BIT 0x88
0000            222   _P1_0           BIT 0x90
0000            223   _P1_1           BIT 0x91
0000            224   _P1_2           BIT 0x92
0000            225   _P1_3           BIT 0x93
0000            226   _P1_4           BIT 0x94
0000            227   _P1_5           BIT 0x95
0000            228   _P1_6           BIT 0x96
0000            229   _P1_7           BIT 0x97
0000            230   _S0MODE         BIT 0x9f
0000            231   _SCON0_6        BIT 0x9e
0000            232   _MCE0           BIT 0x9d
0000            233   _REN0           BIT 0x9c
0000            234   _TB80           BIT 0x9b
0000            235   _RB80           BIT 0x9a
0000            236   _TI0            BIT 0x99
0000            237   _RI0            BIT 0x98
0000            238   _SCON_6         BIT 0x9e
0000            239   _MCE            BIT 0x9d
0000            240   _REN            BIT 0x9c
0000            241   _TB8            BIT 0x9b
0000            242   _RB8            BIT 0x9a
0000            243   _TI             BIT 0x99
0000            244   _RI             BIT 0x98
0000            245   _P2_0           BIT 0xa0
0000            246   _P2_1           BIT 0xa1
0000            247   _P2_2           BIT 0xa2
0000            248   _P2_3           BIT 0xa3
0000            249   _P2_4           BIT 0xa4
0000            250   _P2_5           BIT 0xa5
0000            251   _P2_6           BIT 0xa6
0000            252   _P2_7           BIT 0xa7
0000            253   _EA             BIT 0xaf
0000            254   _ESPI0          BIT 0xae
0000            255   _ET2            BIT 0xad
0000            256   _ES0            BIT 0xac
0000            257   _ET1            BIT 0xab
0000            258   _EX1            BIT 0xaa
0000            259   _ET0            BIT 0xa9
0000            260   _EX0            BIT 0xa8
0000            261   _P3_0           BIT 0xb0
0000            262   _P3_1           BIT 0xb1
0000            263   _P3_2           BIT 0xb2
0000            264   _P3_3           BIT 0xb3
0000            265   _P3_4           BIT 0xb4
0000            266   _P3_5           BIT 0xb5
0000            267   _P3_6           BIT 0xb6
0000            268   _P3_7           BIT 0xb7
0000            269   _IP_7           BIT 0xbf
0000            270   _PSPI0          BIT 0xbe
0000            271   _PT2            BIT 0xbd
0000            272   _PS0            BIT 0xbc
0000            273   _PT1            BIT 0xbb
0000            274   _PX1            BIT 0xba
0000            275   _PT0            BIT 0xb9
0000            276   _PX0            BIT 0xb8
0000            277   _MASTER0        BIT 0xc7
0000            278   _TXMODE0        BIT 0xc6
0000            279   _STA0           BIT 0xc5
0000            280   _STO0           BIT 0xc4
0000            281   _ACKRQ0         BIT 0xc3
0000            282   _ARBLOST0       BIT 0xc2
0000            283   _ACK0           BIT 0xc1
0000            284   _SI0            BIT 0xc0
0000            285   _MASTER1        BIT 0xc7
0000            286   _TXMODE1        BIT 0xc6
0000            287   _STA1           BIT 0xc5
0000            288   _STO1           BIT 0xc4
0000            289   _ACKRQ1         BIT 0xc3
0000            290   _ARBLOST1       BIT 0xc2
0000            291   _ACK1           BIT 0xc1
0000            292   _SI1            BIT 0xc0
0000            293   _TF2            BIT 0xcf
0000            294   _TF2H           BIT 0xcf
0000            295   _TF2L           BIT 0xce
0000            296   _TF2LEN         BIT 0xcd
0000            297   _TF2CEN         BIT 0xcc
0000            298   _T2SPLIT        BIT 0xcb
0000            299   _TR2            BIT 0xca
0000            300   _T2CSS          BIT 0xc9
0000            301   _T2XCLK         BIT 0xc8
0000            302   _TF5H           BIT 0xcf
0000            303   _TF5L           BIT 0xce
0000            304   _TF5LEN         BIT 0xcd
0000            305   _TMR5CN_4       BIT 0xcc
0000            306   _T5SPLIT        BIT 0xcb
0000            307   _TR5            BIT 0xca
0000            308   _TMR5CN_1       BIT 0xc9
0000            309   _T5XCLK         BIT 0xc8
0000            310   _CY             BIT 0xd7
0000            311   _AC             BIT 0xd6
0000            312   _F0             BIT 0xd5
0000            313   _RS1            BIT 0xd4
0000            314   _RS0            BIT 0xd3
0000            315   _OV             BIT 0xd2
0000            316   _F1             BIT 0xd1
0000            317   _PARITY         BIT 0xd0
0000            318   _CF             BIT 0xdf
0000            319   _CR             BIT 0xde
0000            320   _PCA0CN_5       BIT 0xde
0000            321   _CCF4           BIT 0xdc
0000            322   _CCF3           BIT 0xdb
0000            323   _CCF2           BIT 0xda
0000            324   _CCF1           BIT 0xd9
0000            325   _CCF0           BIT 0xd8
0000            326   _ACC_7          BIT 0xe7
0000            327   _ACC_6          BIT 0xe6
0000            328   _ACC_5          BIT 0xe5
0000            329   _ACC_4          BIT 0xe4
0000            330   _ACC_3          BIT 0xe3
0000            331   _ACC_2          BIT 0xe2
0000            332   _ACC_1          BIT 0xe1
0000            333   _ACC_0          BIT 0xe0
0000            334   _AD0EN          BIT 0xef
0000            335   _AD0TM          BIT 0xee
0000            336   _AD0INT         BIT 0xed
0000            337   _AD0BUSY        BIT 0xec
0000            338   _AD0WINT        BIT 0xeb
0000            339   _AD0CM2         BIT 0xea
0000            340   _AD0CM1         BIT 0xe9
0000            341   _AD0CM0         BIT 0xe8
0000            342   _B_7            BIT 0xf7
0000            343   _B_6            BIT 0xf6
0000            344   _B_5            BIT 0xf5
0000            345   _B_4            BIT 0xf4
0000            346   _B_3            BIT 0xf3
0000            347   _B_2            BIT 0xf2
0000            348   _B_1            BIT 0xf1
0000            349   _B_0            BIT 0xf0
0000            350   _SPIF           BIT 0xff
0000            351   _WCOL           BIT 0xfe
0000            352   _MODF           BIT 0xfd
0000            353   _RXOVRN         BIT 0xfc
0000            354   _NSSMD1         BIT 0xfb
0000            355   _NSSMD0         BIT 0xfa
0000            356   _TXBMT          BIT 0xf9
0000            357   _SPIEN          BIT 0xf8
0000            358   ;--------------------------------------------------------
0000            359   ; overlayable register banks
0000            360   ;--------------------------------------------------------
0000            361            rbank0 segment data overlay
0000            362   ;--------------------------------------------------------
0000            363   ; internal ram data
0000            364   ;--------------------------------------------------------
0000            365            rseg R_DSEG
0000            366   _pwm_count:
0000            367            ds 1
0001            368   _power:
0001            369            ds 1
0002            370   _pwm_out0:
0002            371            ds 1
0003            372   ;--------------------------------------------------------
0003            373   ; overlayable items in internal ram 
0003            374   ;--------------------------------------------------------
0000            375            rseg    R_OSEG
0000            376   ;--------------------------------------------------------
0000            377   ; indirectly addressable internal ram data
0000            378   ;--------------------------------------------------------
0000            379            rseg R_ISEG
0000            380   ;--------------------------------------------------------
0000            381   ; absolute internal ram data
0000            382   ;--------------------------------------------------------
0000            383            DSEG
0000            384   ;--------------------------------------------------------
0000            385   ; bit data
0000            386   ;--------------------------------------------------------
0000            387            rseg R_BSEG
0000            388   _Timer2_ISR_sloc0_1_0:
0000            389            DBIT    1
0001            390   ;--------------------------------------------------------
0001            391   ; paged external ram data
0001            392   ;--------------------------------------------------------
0000            393            rseg R_PSEG
0000            394   ;--------------------------------------------------------
0000            395   ; external ram data
0000            396   ;--------------------------------------------------------
0000            397            rseg R_XSEG
0000            398   ;--------------------------------------------------------
0000            399   ; absolute external ram data
0000            400   ;--------------------------------------------------------
0000            401            XSEG
0000            402   ;--------------------------------------------------------
0000            403   ; external initialized ram data
0000            404   ;--------------------------------------------------------
0000            405            rseg R_IXSEG
0000            406            rseg R_HOME
0000            407            rseg R_GSINIT
0000            408            rseg R_CSEG
0000            409   ;--------------------------------------------------------
0000            410   ; Reset entry point and interrupt vectors
0000            411   ;--------------------------------------------------------
0000            412            CSEG at 0x0000
0000 020100     413            ljmp    _crt0
002B            414            CSEG at 0x002b
002B 020100     415            ljmp    _Timer2_ISR
002E            416   ;--------------------------------------------------------
002E            417   ; global & static initialisations
002E            418   ;--------------------------------------------------------
0000            419            rseg R_HOME
0000            420            rseg R_GSINIT
0000            421            rseg R_GSINIT
0000            422   ;--------------------------------------------------------
0000            423   ; data variables initialization
0000            424   ;--------------------------------------------------------
0000            425            rseg R_DINIT
0000            426   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:12: volatile unsigned char pwm_count=0;
0000 755000     427            mov     _pwm_count,#0x00
0003            428   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:13: volatile unsigned char power=100;
0003 751064     429            mov     _power,#0x64
0006            430   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:14: volatile unsigned char pwm_out0=0;
0006 75D000     431            mov     _pwm_out0,#0x00
0009            432            ; The linker places a 'ret' at the end of segment R_DINIT.
0009            433   ;--------------------------------------------------------
0009            434   ; code
0009            435   ;--------------------------------------------------------
0000            436            rseg R_CSEG
0000            437   ;------------------------------------------------------------
0000            438   ;Allocation info for local variables in function '_c51_external_startup'
0000            439   ;------------------------------------------------------------
0000            440   ;------------------------------------------------------------
0000            441   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:18: char _c51_external_startup (void)
0000            442   ;        -----------------------------------------
0000            443   ;         function _c51_external_startup
0000            444   ;        -----------------------------------------
0000            445   __c51_external_startup:
0000            446            using   0
0000            447   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:20: PCA0MD&=(~0x40) ;    // DISABLE WDT: clear Watchdog Enable bit
0000 53D9BF     448            anl     _PCA0MD,#0xBF
0003            449   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:21: VDM0CN=0x80; // enable VDD monitor
0003 75FF80     450            mov     _VDM0CN,#0x80
0006            451   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:22: RSTSRC=0x02|0x04; // Enable reset on missing clock detector and VDD
0006 75EF06     452            mov     _RSTSRC,#0x06
0009            453   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:30: CLKSEL|=0b_0000_0011; // SYSCLK derived from the Internal High-Frequency Oscillator / 1.
0009 43A903     454            orl     _CLKSEL,#0x03
000C            455   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:34: OSCICN |= 0x03; // Configure internal oscillator for its maximum frequency
000C 43B203     456            orl     _OSCICN,#0x03
000F            457   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:37: SCON0 = 0x10;
000F 759810     458            mov     _SCON0,#0x10
0012            459   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:39: TH1 = 0x10000-((SYSCLK/BAUDRATE)/2L);
0012 758D30     460            mov     _TH1,#0x30
0015            461   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:40: CKCON &= ~0x0B;                  // T1M = 1; SCA1:0 = xx
0015 538EF4     462            anl     _CKCON,#0xF4
0018            463   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:41: CKCON |=  0x08;
0018 438E08     464            orl     _CKCON,#0x08
001B            465   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:54: TL1 = TH1;      // Init Timer1
001B 858D8B     466            mov     _TL1,_TH1
001E            467   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:55: TMOD &= ~0xf0;  // TMOD: timer 1 in 8-bit autoreload
001E 53890F     468            anl     _TMOD,#0x0F
0021            469   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:56: TMOD |=  0x20;
0021 438920     470            orl     _TMOD,#0x20
0024            471   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:57: TR1 = 1; // START Timer1
0024 D28E       472            setb    _TR1
0026            473   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:58: TI = 1;  // Indicate TX0 ready
0026 D299       474            setb    _TI
0028            475   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:61: P2MDOUT|=0b_0000_0011;
0028 43A603     476            orl     _P2MDOUT,#0x03
002B            477   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:62: P0MDOUT |= 0x10; // Enable UTX as push-pull output
002B 43A410     478            orl     _P0MDOUT,#0x10
002E            479   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:63: XBR0     = 0x01; // Enable UART on P0.4(TX) and P0.5(RX)
002E 75E101     480            mov     _XBR0,#0x01
0031            481   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:64: XBR1     = 0x40; // Enable crossbar and weak pull-ups
0031 75E240     482            mov     _XBR1,#0x40
0034            483   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:67: TMR2CN=0x00;   // Stop Timer2; Clear TF2;
0034 75C800     484            mov     _TMR2CN,#0x00
0037            485   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:68: CKCON|=0b_0001_0000;
0037 438E10     486            orl     _CKCON,#0x10
003A            487   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:69: TMR2RL=(-(SYSCLK/(2*48))/(100L)); // Initialize reload value
003A 75CA78     488            mov     _TMR2RL,#0x78
003D 75CBEC     489            mov     (_TMR2RL >> 8),#0xEC
0040            490   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:70: TMR2=0xffff;   // Set to reload immediately
0040 75CCFF     491            mov     _TMR2,#0xFF
0043 75CDFF     492            mov     (_TMR2 >> 8),#0xFF
0046            493   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:71: ET2=1;         // Enable Timer2 interrupts
0046 D2AD       494            setb    _ET2
0048            495   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:72: TR2=1;         // Start Timer2
0048 D2CA       496            setb    _TR2
004A            497   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:74: EA=1; // Enable interrupts
004A D2AF       498            setb    _EA
004C            499   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:76: return 0;
004C 758200     500            mov     dpl,#0x00
004F 22         501            ret
0050            502   ;------------------------------------------------------------
0050            503   ;Allocation info for local variables in function 'Timer3us'
0050            504   ;------------------------------------------------------------
0050            505   ;us                        Allocated to registers r2 
0050            506   ;i                         Allocated to registers r3 
0050            507   ;------------------------------------------------------------
0050            508   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:80: void Timer3us(unsigned char us)
0050            509   ;        -----------------------------------------
0050            510   ;         function Timer3us
0050            511   ;        -----------------------------------------
0050            512   _Timer3us:
0050 AA82       513            mov     r2,dpl
0052            514   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:85: CKCON|=0b_0100_0000;
0052 438E40     515            orl     _CKCON,#0x40
0055            516   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:87: TMR3RL = (-(SYSCLK)/1000000L); // Set Timer3 to overflow in 1us.
0055 7592D0     517            mov     _TMR3RL,#0xD0
0058 7593FF     518            mov     (_TMR3RL >> 8),#0xFF
005B            519   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:88: TMR3 = TMR3RL;                 // Initialize Timer3 for first overflow
005B 859294     520            mov     _TMR3,_TMR3RL
005E 859395     521            mov     (_TMR3 >> 8),(_TMR3RL >> 8)
0061            522   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:90: TMR3CN = 0x04;                 // Sart Timer3 and clear overflow flag
0061 759104     523            mov     _TMR3CN,#0x04
0064            524   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:91: for (i = 0; i < us; i++)       // Count <us> overflows
0064 7B00       525            mov     r3,#0x00
0066            526   L003004?:
0066 C3         527            clr     c
0067 EB         528            mov     a,r3
0068 9A         529            subb    a,r2
0069 5001       530            jnc     L003007?
006B            531   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:93: while (!(TMR3CN & 0x80));  // Wait for overflow
006B            532   L003001?:
006B E591       533            mov     a,_TMR3CN
006D 30E740     534            jnb     acc.7,L003001?
0070            535   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:94: TMR3CN &= ~(0x80);         // Clear overflow indicator
0070 53917F     536            anl     _TMR3CN,#0x7F
0073            537   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:91: for (i = 0; i < us; i++)       // Count <us> overflows
0073 0B         538            inc     r3
0074 8001       539            sjmp    L003004?
0076            540   L003007?:
0076            541   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:96: TMR3CN = 0 ;                   // Stop Timer3 and clear overflow flag
0076 759100     542            mov     _TMR3CN,#0x00
0079 22         543            ret
007A            544   ;------------------------------------------------------------
007A            545   ;Allocation info for local variables in function 'waitms'
007A            546   ;------------------------------------------------------------
007A            547   ;ms                        Allocated to registers r2 r3 
007A            548   ;j                         Allocated to registers r2 r3 
007A            549   ;------------------------------------------------------------
007A            550   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:100: void waitms (unsigned int ms)
007A            551   ;        -----------------------------------------
007A            552   ;         function waitms
007A            553   ;        -----------------------------------------
007A            554   _waitms:
007A AA82       555            mov     r2,dpl
007C AB83       556            mov     r3,dph
007E            557   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:103: for(j=ms; j!=0; j--)
007E            558   L004001?:
007E BA0040     559            cjne    r2,#0x00,L004010?
0081 BB0040     560            cjne    r3,#0x00,L004010?
0084 22         561            ret
0085            562   L004010?:
0085            563   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:105: Timer3us(249);
0085 7582F9     564            mov     dpl,#0xF9
0088 C002       565            push    ar2
008A C003       566            push    ar3
008C 120100     567            lcall   _Timer3us
008F            568   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:106: Timer3us(249);
008F 7582F9     569            mov     dpl,#0xF9
0092 120100     570            lcall   _Timer3us
0095            571   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:107: Timer3us(249);
0095 7582F9     572            mov     dpl,#0xF9
0098 120100     573            lcall   _Timer3us
009B            574   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:108: Timer3us(250);
009B 7582FA     575            mov     dpl,#0xFA
009E 120100     576            lcall   _Timer3us
00A1 D003       577            pop     ar3
00A3 D002       578            pop     ar2
00A5            579   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:103: for(j=ms; j!=0; j--)
00A5 1A         580            dec     r2
00A6 BAFF80     581            cjne    r2,#0xff,L004011?
00A9 1B         582            dec     r3
00AA            583   L004011?:
00AA 8001       584            sjmp    L004001?
00AC            585   ;------------------------------------------------------------
00AC            586   ;Allocation info for local variables in function 'Timer2_ISR'
00AC            587   ;------------------------------------------------------------
00AC            588   ;------------------------------------------------------------
00AC            589   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:113: void Timer2_ISR (void) interrupt 5
00AC            590   ;        -----------------------------------------
00AC            591   ;         function Timer2_ISR
00AC            592   ;        -----------------------------------------
00AC            593   _Timer2_ISR:
00AC C0E0       594            push    acc
00AE C0D0       595            push    psw
00B0 75D000     596            mov     psw,#0x00
00B3            597   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:115: TF2H = 0; // Clear Timer2 interrupt flag
00B3 C2CF       598            clr     _TF2H
00B5            599   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:117: pwm_count++;
00B5 0550       600            inc     _pwm_count
00B7            601   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:118: if(pwm_count>100) pwm_count=0;
00B7 E550       602            mov     a,_pwm_count
00B9 249B       603            add     a,#0xff - 0x64
00BB 5001       604            jnc     L005002?
00BD 755000     605            mov     _pwm_count,#0x00
00C0            606   L005002?:
00C0            607   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:120: OUT0=pwm_count>pwm_out0?0:1;
00C0 C3         608            clr     c
00C1 E5D0       609            mov     a,_pwm_out0
00C3 9550       610            subb    a,_pwm_count
00C5 9200       611            mov  _Timer2_ISR_sloc0_1_0,c
00C7 B3         612            cpl     c
00C8 92A0       613            mov     _P2_0,c
00CA D0D0       614            pop     psw
00CC D0E0       615            pop     acc
00CE 32         616            reti
00CF            617   ;        eliminated unneeded push/pop dpl
00CF            618   ;        eliminated unneeded push/pop dph
00CF            619   ;        eliminated unneeded push/pop b
00CF            620   ;------------------------------------------------------------
00CF            621   ;Allocation info for local variables in function 'ControlUnit'
00CF            622   ;------------------------------------------------------------
00CF            623   ;------------------------------------------------------------
00CF            624   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:124: void ControlUnit (void)
00CF            625   ;        -----------------------------------------
00CF            626   ;         function ControlUnit
00CF            627   ;        -----------------------------------------
00CF            628   _ControlUnit:
00CF            629   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:128: if (PWRUP == 0){
00CF 20A540     630            jb      _P2_5,L006007?
00D2            631   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:129: while(PWRUP==0);
00D2            632   L006001?:
00D2 30A580     633            jnb     _P2_5,L006001?
00D5            634   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:130: power=power+10;
00D5 740A       635            mov     a,#0x0A
00D7 2510       636            add     a,_power
00D9 F510       637            mov     _power,a
00DB            638   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:131: if(power >= 100){
00DB 749C       639            mov     a,#0x100 - 0x64
00DD 2510       640            add     a,_power
00DF 5001       641            jnc     L006005?
00E1            642   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:132: power = 100;
00E1 751064     643            mov     _power,#0x64
00E4            644   L006005?:
00E4            645   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:134: waitms(10);
00E4 90000A     646            mov     dptr,#0x000A
00E7 120100     647            lcall   _waitms
00EA            648   L006007?:
00EA            649   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:138: if (PWRDN == 0){
00EA 20A700     650            jb      _P2_7,L006014?
00ED            651   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:139: while(PWRDN==0);
00ED            652   L006008?:
00ED 30A740     653            jnb     _P2_7,L006008?
00F0            654   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:140: if (power >=10){
00F0 74F6       655            mov     a,#0x100 - 0x0A
00F2 2510       656            add     a,_power
00F4 5001       657            jnc     L006012?
00F6            658   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:141: power=power-10;
00F6 E510       659            mov     a,_power
00F8 24F6       660            add     a,#0xf6
00FA F510       661            mov     _power,a
00FC            662   L006012?:
00FC            663   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:143: waitms(10);
00FC 90000A     664            mov     dptr,#0x000A
00FF 120100     665            lcall   _waitms
0102            666   L006014?:
0102            667   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:147: pwm_out0 = power;
0102 8510D0     668            mov     _pwm_out0,_power
0105 22         669            ret
0106            670   ;------------------------------------------------------------
0106            671   ;Allocation info for local variables in function 'main'
0106            672   ;------------------------------------------------------------
0106            673   ;------------------------------------------------------------
0106            674   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:152: void main (void)
0106            675   ;        -----------------------------------------
0106            676   ;         function main
0106            677   ;        -----------------------------------------
0106            678   _main:
0106            679   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:155: printf("\x1b[2J"); // Clear screen using ANSI escape sequence.
0106 74C0       680            mov     a,#__str_0
0108 C0E0       681            push    acc
010A 7498       682            mov     a,#(__str_0 >> 8)
010C C0E0       683            push    acc
010E 7480       684            mov     a,#0x80
0110 C0E0       685            push    acc
0112 120100     686            lcall   _printf
0115 1581       687            dec     sp
0117 1581       688            dec     sp
0119 1581       689            dec     sp
011B            690   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:157: "Check pins P2.0 and P2.1 with the oscilloscope.\r\n");
011B 7480       691            mov     a,#__str_1
011D C0E0       692            push    acc
011F 7499       693            mov     a,#(__str_1 >> 8)
0121 C0E0       694            push    acc
0123 7480       695            mov     a,#0x80
0125 C0E0       696            push    acc
0127 120100     697            lcall   _printf
012A 1581       698            dec     sp
012C 1581       699            dec     sp
012E 1581       700            dec     sp
0130            701   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:159: while(1)
0130            702   L007002?:
0130            703   ;        D:\DevFiles\ELEC291_Dev_Files\Project2\transmitterTest.c:161: ControlUnit();
0130 120100     704            lcall   _ControlUnit
0133 8001       705            sjmp    L007002?
0135            706            rseg R_CSEG
0135            707   
0000            708            rseg R_XINIT
0000            709   
0000            710            rseg R_CONST
0000            711   __str_0:
0000 1B         712            db 0x1B
0001 5B324A     713            db '[2J'
0004 00         714            db 0x00
0005            715   __str_1:
0005 53717561   716            db 'Square wave generator for the F38x.'
     72652077
     61766520
     67656E65
     7261746F
     7220666F
     72207468
     65204633
     38782E
0028 0D         717            db 0x0D
0029 0A         718            db 0x0A
002A 43686563   719            db 'Check pins P2.0 and P2.'
     6B207069
     6E732050
     322E3020
     616E6420
     50322E
0041 31207769   720            db '1 with the oscilloscope.'
     74682074
     6865206F
     7363696C
     6C6F7363
     6F70652E
0059 0D         721            db 0x0D
005A 0A         722            db 0x0A
005B 00         723            db 0x00
005C            724   
002E            725            CSEG
002E            726   
002E            727   end
